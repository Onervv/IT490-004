# IT490-004 | System Integration Project

### Overview
This repository contains a simple web‑fronted login demo that integrates a PHP
backend with RabbitMQ.  The goal is to highlight how messages are generated by a
browser, forwarded by PHP to a broker, and consumed by a worker script.

### Project structure

- `index.html` – Bootstrap login form served by Apache
- `js/login.js` – frontend JavaScript (previously `main.js`)
- `login.php` – PHP endpoint called by `login.js`; packages and forwards the
  payload to RabbitMQ
- `rabbitMQLib.inc` – shared client/server library encapsulating AMQP logic
- `testRabbitMQClient.php` / `testRabbitMQServer.php` – command‑line tools for
  exercising the broker directly
- `rpc/` – auxiliary scripts used by the CLI samples
- `testRabbitMQ.ini` – external configuration describing broker, vhost and
authentication
- various `.php` helpers (`get_host_info.inc`, `path.inc`) used by the above

### Getting started

1. **Configure Apache**

   Make sure Apache is serving this directory.  Example virtual‑host (see
   `/etc/apache2/sites-available/001-sample.conf`):

   ```apache
   <VirtualHost *:80>
       ServerName localhost
       DocumentRoot /home/onervv/IT490-004
       <Directory /home/onervv/IT490-004>
           Require all granted
       </Directory>
   </VirtualHost>
   ```

   Reload Apache with `sudo systemctl reload apache2` and verify with
   `apache2ctl -S`.

2. **Run RabbitMQ**

   Ensure a broker is running at the host/port in `testRabbitMQ.ini` and that
   the `test` user/vhost exist.  The built‑in management UI (`http://localhost:15672`)
   can help with this.

3. **Open the login page**

   Navigate to `http://localhost/` in your browser.  Enter a username/password
   and click **Sign In**.  The message will be forwarded to RabbitMQ.

4. **Watch the logs**

   Debug output is written via `error_log()`:

   * `login.php` logs the received POST and the RabbitMQ request payload
   * `rabbitMQLib.inc` logs connection parameters and the JSON body
   * `testRabbitMQServer.php` logs every incoming request

   Check `/var/log/apache2/error.log` (or the PHP error log configured for your
   environment).

5. **Use CLI tools**

   The scripts in the root directory let you send/receive messages without the
   web UI, e.g.:

   ```bash
   php testRabbitMQClient.php "hello"
   php rpc/loginRequest.php
   ```

### Notes

* Messages themselves are plain JSON; the broker only sees the serialized
  payload.  Authentication uses the credentials in the `.ini` file, not the
  `username`/`password` fields in the JSON.
* You can rename or reorganise the JS/PHP files as you like – just update the
  HTML and `require_once()` calls accordingly.
* The `js/login.js` file contains console debug statements to make front‑end
  behaviour easier to follow.

Feel free to expand this README with deployment steps, database integration,
or any other notes required by your assignment.

